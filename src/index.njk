---
layout: default
eleventyExcludeFromCollections: true
---

{% include './_includes/partials/infobar.njk' %}

<p>
  {% set latestUpdate = collections.updates | last %}
  <a href="{{ latestUpdate.url }}">Latest news</a>
</p>

<section id="filter">
  <input type="text" class="border-b" placeholder="SEARCH" x-model="query" />
</section>

<div x-show="!!query">
  <p>Showing search results for <span x-html="query"></span></p>
  <template x-for="section in filteredSections()" :key="section.name">
    <div x-show="section.items.length > 0">
      <h2 x-text="section.name" :id="slugify(section.name)"></h2>

      <template x-for="item in section.items" :key="item.title">
        <a :href="item.url" target="_blank" class="resource">
          <h2 x-text="item.title"></h2>

          <span x-show="item.date">Date: <span x-text="item.date"></span></span>
          <p x-show="item.description" x-text="item.description"></p>

          <ul class="resource__meta">
            <li>Author: <span x-text="item.author"></span></li>
            <li>Type: <span x-text="item.type"></span></li>
            <li x-show="!!tags(item)">Tags: <span x-text="tags(item)"></span></li>
          </ul>
        </a>
      </template>
    </div>
  </template>
</div>

<div x-show="!query">
  {% for key, item in sheet %}
  <section>
    <h1 id="{{ key | slug }}">{{ key }}</h1>

    {% for resource in item %} {% include './_includes/partials/resource.njk' %} {% endfor %}
  </section>
  {% endfor %}
</div>
