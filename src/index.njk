---
layout: default
eleventyExcludeFromCollections: true
---

{% import "./_includes/macro/svg.njk" as svg %}
{% include './_includes/partials/infobar.njk' %}

<section class="resourceContainer">
  <aside class="resourceContainer__sidebar">
    {#
    <div>
      <a href="#">Add resource</a>
    </div>
    #}

    <div x-show="!query">Displaying all {{ sheet | length }} resources</div>
    <div x-show="!!query">Displaying all <span x-text="filteredItems().length"></span> resources</div>

    <nav class="sectionNav">
      <ul x-show="!query">
        {% for key, item in sheet %}
        <li>
          <a href="#{{ key | slug }}" class="sectionNav__link">
            {{ key }}
          </a>
        </li>
        {% endfor %}
      </ul>

      <ul x-show="!!query">
        <template x-for="section in filteredSections()" :key="section.name">
          <li>
            <span class="sectionNav__link opacity-50" x-text="section.name" x-show="section.items.length == 0"></span>
            <a :href="'#' + slugify(section.name)" class="sectionNav__link" x-show="section.items.length > 0">
              <span x-text="section.name"></span> ( <span x-text="section.items.length"></span> )
            </a>
          </li>
        </template>
      </ul>
    </nav>
  </aside>

  <main class="resourceContainer__mainList">

    <section id="filter" class="searchField">
      <input type="text" class="searchField__input" placeholder="SEARCH" x-model="query" />
      {{ svg.sprite("search", "searchField__icon") }}
    </section>

    <div x-show="!!query">
      <template x-for="section in filteredSections()" :key="section.name">
        <section x-show="section.items.length > 0" class="resourceContainer__mainList__section">
          <h1 x-text="section.name" :id="slugify(section.name)"></h1>

          <template x-for="item in section.items" :key="item.title">
            <a :href="item.url" target="_blank" class="resource">
              <h2 x-text="item.title"></h2>

              <span x-show="item.date">Date: <span x-text="item.date"></span></span>
              <p x-show="item.description" x-text="item.description"></p>

              <ul class="resource__meta">
                <li>Author: <span x-text="item.author"></span></li>
                <li>Type: <span x-text="item.type"></span></li>
                <li x-show="!!tags(item)">Tags: <span x-text="tags(item)"></span></li>
              </ul>
            </a>
          </template>
        </section>
      </template>
    </div>

    <div x-show="!query">
      {% for key, item in sheet %}
      <section id="{{ key | slug }}" class="resourceContainer__mainList__section">
        <h1>{{ key }}</h1>

        {% for resource in item %} {% include './_includes/partials/resource.njk' %} {% endfor %}
      </section>
      {% endfor %}
    </div>
  </main>
</section>
